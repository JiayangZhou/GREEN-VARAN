

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>GREEN-VARAN tool set &mdash; GREEN-DB and GREEN-VARAN  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="GREEN-VARAN tool usage" href="GREEN-VARAN_usage.html" />
    <link rel="prev" title="The GREEN-DB" href="GREEN_DB.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> GREEN-DB and GREEN-VARAN
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="GREEN_DB.html">The GREEN-DB</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">GREEN-VARAN tool set</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#get-the-tool-binary-from-the-repository">1. Get the tool binary from the repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compile-the-tool">2. Compile the tool</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#get-green-db-files">Get GREEN-DB files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#green-varan-nextflow-workflow">GREEN-VARAN Nextflow workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#singularity">Singularity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bind-specific-folders-for-resources-or-data">Bind specific folders for resources or data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#single-tools-usage">Single tools usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="GREEN-VARAN_usage.html">GREEN-VARAN tool usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="GREEN-DB_query_usage.html">greendb_query tool usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="nextflow_workflow.html">GREEN-VARAN workflow</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nextflow_workflow.html">GREEN-VARAN workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="Download.html">Download resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="how_to_cite.html">How to cite</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GREEN-DB and GREEN-VARAN</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>GREEN-VARAN tool set</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/GREEN_VARAN.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="green-varan-tool-set">
<h1>GREEN-VARAN tool set<a class="headerlink" href="#green-varan-tool-set" title="Permalink to this headline">¶</a></h1>
<p><strong>Genomic Regulatory Elements ENcyclopedia VARiant ANnotation</strong></p>
<p>Annotate variants in a VCF using GREEN-DB to provide information on non-coding regualtory variants and the controlled genes.
Additionally perform prioritization summing up evidences of regulatory impact from GREENDB, population AF, functional regions and prediction scores</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="get-the-tool-binary-from-the-repository">
<h3>1. Get the tool binary from the repository<a class="headerlink" href="#get-the-tool-binary-from-the-repository" title="Permalink to this headline">¶</a></h3>
<p>The easiest way to run GREEN-VARAN is to download the pre-compiled binaries from the latest release at <a class="reference external" href="https://github.com/edg1983/GREEN-VARAN">https://github.com/edg1983/GREEN-VARAN</a></p>
</div>
<div class="section" id="compile-the-tool">
<h3>2. Compile the tool<a class="headerlink" href="#compile-the-tool" title="Permalink to this headline">¶</a></h3>
<p>Alternatively, you can clone the repository
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/edg1983/GREEN-VARAN.git</span></code></p>
<p>And then compile the greenvaran using Nim compiler (<a class="reference external" href="https://nim-lang.org/">https://nim-lang.org/</a>).
GREEN-VARAN requires
- nim &gt;= 0.10
- hts-nim &gt;= 0.3.4
- argparse 0.10.1</p>
<p>If you have Singularity installed, you can use the script <code class="docutils literal notranslate"><span class="pre">nim_compile.sh</span></code> to create a static binary with no dependencies
This uses musl-hts-nim as described in hts-nim repository (see <a class="reference external" href="https://github.com/brentp/hts-nim#static-binary-with-singularity">https://github.com/brentp/hts-nim#static-binary-with-singularity</a>)</p>
</div>
</div>
<div class="section" id="get-green-db-files">
<h2>Get GREEN-DB files<a class="headerlink" href="#get-green-db-files" title="Permalink to this headline">¶</a></h2>
<p>To perform annotations with GREEN-VARAN you will need the GREEN-DB bed files for your genome build.
You can download the GREEN-DB BED file for GRCh37 or GRCh38 from <a class="reference external" href="https://zenodo.org/record/5636209">https://zenodo.org/record/5636209</a></p>
<p>The complete SQLite database is also available from the same repository</p>
</div>
<div class="section" id="green-varan-nextflow-workflow">
<h2>GREEN-VARAN Nextflow workflow<a class="headerlink" href="#green-varan-nextflow-workflow" title="Permalink to this headline">¶</a></h2>
<p>We also provide a Nextflow workflow that can be used to automate VCF annotation and resource download.
Given a small variants VCF annotated for gene consequences using snpEff or bcftools the workflow can be used to
- automatically add functional regions annotations and non-coding prediction scores
- perform greenvaran prioritization</p>
<p>Missing datasets will be downloaded automatically during the process.
See the dedicated page for more usage information</p>
</div>
<div class="section" id="singularity">
<h2>Singularity<a class="headerlink" href="#singularity" title="Permalink to this headline">¶</a></h2>
<p>The tool binaries should work on most linux based system. In case you have any issue, we also provdie GREEN-VARAN as Singularity image (tested on singularity &gt;= 3.2).
A Singularity recipe is included in the repository or you can pull the image from Singularity Library using</p>
<p><code class="docutils literal notranslate"><span class="pre">singularity</span> <span class="pre">pull</span> <span class="pre">library://edg1983/greenvaran/greenvaran:latest</span></code></p>
<p>See GREEN-VARAN usage for more details
Usage
#####</p>
<p>The image contains both greenvaran and greendb_query tools.
The general usage is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>singularity run <span class="se">\</span>
greenvaran.sif <span class="se">\</span>
tool_name <span class="o">[</span>tool arguments<span class="o">]</span>
</pre></div>
</div>
<div class="section" id="bind-specific-folders-for-resources-or-data">
<h3>Bind specific folders for resources or data<a class="headerlink" href="#bind-specific-folders-for-resources-or-data" title="Permalink to this headline">¶</a></h3>
<p>The tool need access to input VCF file, required GREEN-DB bed file and config files so remember to bind the corresponding locations in the container</p>
<p>See the following example where we use the current working directory for input/output, while other files are located
in the default config / resources folder within greenvaran folder. In the example we use GRCh38 genome build</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>singularity run <span class="se">\</span>
--bind /greenvaran_path/resources/GRCh38:/db_files <span class="se">\</span>
--bind /greenvaran_path/config:/config_files <span class="se">\</span>
--bind <span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>:/data <span class="se">\</span>
greenvaran.sif <span class="se">\</span>
greenvaran -i /data/input.vcf.gz <span class="se">\</span>
-o /data/output.vcf.gz <span class="se">\</span>
--db /db_files/GRCh38_GREEN-DB.bed.gz <span class="se">\</span>
--dbschema /config_files/greendb_schema_v2.5.json
--config /config_files/prioritize_smallvars.json
<span class="o">[</span>additional tool arguments<span class="o">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="single-tools-usage">
<h2>Single tools usage<a class="headerlink" href="#single-tools-usage" title="Permalink to this headline">¶</a></h2>
<p>The GREEN-VARAN tool set includes 2 main tools to annotate variants and interact with GREEN-DB.</p>
<ol class="arabic simple">
<li><p>greenvaran
Perform annotation on small variants or structural variants VCF.
Provides prioritization of regulatory variants summing up evidences of impact from GREENDB, population AF, functional regions and prediction scores.
Variants can also be tagged based on a list of genes of interest.
Finally, the tool can update standard gene consequence in ANN or BCQS fields to reflect regulated genes.</p></li>
<li><p>greendb_query
Assists in quering the GREEN-DB. Given a list of region IDs, a list of variants or a table of variants and relevant GREENDB regions
the tool generates a set of tables containing detailed information on the regions of interest, region-gene connections, functional regions and tissues.</p></li>
</ol>
<p>For detailed instruction on the single tools usage please refer to the corresponding page</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="GREEN-VARAN_usage.html">GREEN-VARAN tool usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="GREEN-VARAN_usage.html#basic-usage">Basic usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="GREEN-VARAN_usage.html#command-line-options">Command line options</a></li>
<li class="toctree-l2"><a class="reference internal" href="GREEN-VARAN_usage.html#annotations-added-by-green-varan">Annotations added by GREEN-VARAN</a></li>
<li class="toctree-l2"><a class="reference internal" href="GREEN-VARAN_usage.html#prioritization-of-small-variants">Prioritization of small variants</a></li>
<li class="toctree-l2"><a class="reference internal" href="GREEN-VARAN_usage.html#structural-variants-annotations">structural variants annotations</a></li>
<li class="toctree-l2"><a class="reference internal" href="GREEN-VARAN_usage.html#singularity">Singularity</a></li>
<li class="toctree-l2"><a class="reference internal" href="GREEN-VARAN_usage.html#example-usage">Example usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="GREEN-DB_query_usage.html">greendb_query tool usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="GREEN-DB_query_usage.html#possible-inputs">Possible inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="GREEN-DB_query_usage.html#output-tables">Output tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="GREEN-DB_query_usage.html#arguments-list">Arguments list</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nextflow_workflow.html">GREEN-VARAN workflow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nextflow_workflow.html#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="nextflow_workflow.html#resources">Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="nextflow_workflow.html#automated-download">Automated download</a></li>
<li class="toctree-l2"><a class="reference internal" href="nextflow_workflow.html#workflow-configuration">Workflow configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="nextflow_workflow.html#available-parameters">Available parameters</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="GREEN-VARAN_usage.html" class="btn btn-neutral float-right" title="GREEN-VARAN tool usage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="GREEN_DB.html" class="btn btn-neutral float-left" title="The GREEN-DB" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Edoardo Giacopuzzi

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>