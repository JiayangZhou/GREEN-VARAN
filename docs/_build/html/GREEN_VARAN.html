

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>GREEN-VARAN tool set &mdash; GREEN-DB and GREEN-VARAN  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="GREEN-VARAN tool usage" href="GREEN-VARAN_usage.html" />
    <link rel="prev" title="The GREEN-DB" href="GREEN_DB.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> GREEN-DB and GREEN-VARAN
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="GREEN_DB.html">The GREEN-DB</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">GREEN-VARAN tool set</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#get-the-tools-from-the-repository">1. Get the tools from the repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="#download-the-supporting-files">2. Download the supporting files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#singularity">Singularity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bind-specific-folders-for-resources-or-data">Bind specific folders for resources or data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#single-tools-usage">Single tools usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="GREEN-VARAN_usage.html">GREEN-VARAN tool usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="SV_annotation_usage.html">SV_annotation tool usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="GREEN-DB_query_usage.html">GREEN-DB_query tool usage</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Download.html">Download resources</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GREEN-DB and GREEN-VARAN</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>GREEN-VARAN tool set</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/GREEN_VARAN.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="green-varan-tool-set">
<h1>GREEN-VARAN tool set<a class="headerlink" href="#green-varan-tool-set" title="Permalink to this headline">¶</a></h1>
<p><strong>Genomic Regulatory Elements ENcyclopedia VARiant ANnotation</strong></p>
<p>Annotate non-coding regulatory variants in a VCF with a combination of</p>
<ul class="simple">
<li><p>our GREEN-DB collection of regulatory regions</p></li>
<li><p>non-coding variant prediction scores (NCBoost, FIRE, LinSight, ReMM, CADD, DANN, ExPecto)</p></li>
<li><p>AF from gnomAD genomes</p></li>
<li><p>conservation with PhyloP100</p></li>
</ul>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="get-the-tools-from-the-repository">
<h3>1. Get the tools from the repository<a class="headerlink" href="#get-the-tools-from-the-repository" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/edg1983/GREEN-VARAN.git</span></code></p>
</div>
<div class="section" id="download-the-supporting-files">
<h3>2. Download the supporting files<a class="headerlink" href="#download-the-supporting-files" title="Permalink to this headline">¶</a></h3>
<p>GREEN-DB files and a set of additional files are needed for annotation (see Downloads)
Supporting files are supposed to be in resources folder, but location can be configured in Configuration file
or changed providing options on the command line.
Supporting files can be obtained from Zenodo (see Download):</p>
<ul class="simple">
<li><p>GREEN-DB bed files and sqlite db file</p></li>
<li><p>processed VCF from gnomAD genomes</p></li>
<li><p>processed tables of prediction scores and phyloP100</p></li>
<li><p>bed files for SV annotations</p></li>
</ul>
</div>
</div>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>All tools are tested with Python &gt;=3.4</p>
<p><strong>Python libraries</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 37%" />
<col style="width: 31%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>GREEN-VARAN</p></th>
<th class="head"><p>GREEN-DB_query</p></th>
<th class="head"><p>SV_annotation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cyvcf2 &gt;= 0.20</p></td>
<td><p>cyvcf2 &gt;= 0.20</p></td>
<td><p>cyvcf2 &gt;= 0.20</p></td>
</tr>
<tr class="row-odd"><td><p>pandas &gt;= 0.25</p></td>
<td><p>pandas &gt;= 0.25</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>sqlite3 &gt;= 2.6.0</p></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>External software and libs</strong></p>
<ul class="simple">
<li><p>bedtools &gt;= 2.27</p></li>
<li><p>htslib &gt;= 1.10</p></li>
<li><p>vcfanno &gt;= 0.3.0 (pre-compiled binary is included in GREEN-VARAN release)</p></li>
</ul>
</div>
<div class="section" id="singularity">
<h2>Singularity<a class="headerlink" href="#singularity" title="Permalink to this headline">¶</a></h2>
<p>GREEN-VARAN tool set is also provided as Singularity image (tested on singularity &gt;= 3.2).
A Singularity recipe is included in the repository or you can pull an image from Singularity Hub using</p>
<p><code class="docutils literal notranslate"><span class="pre">singularity</span> <span class="pre">pull</span> <span class="pre">shub://edg1983/GREEN-VARAN:green-varan_v1</span></code></p>
<div class="section" id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h3>
<p>The image contains all 3 GREEN-VARAN tools:</p>
<ul class="simple">
<li><p>GREEN-VARAN: annotation of small variants VCF</p></li>
<li><p>SV_annotation: annotation of SV VCF</p></li>
<li><p>GREEN-DB_query: query the GREEN-DB for detailed information</p></li>
</ul>
<p>To run one of the tool use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>singularity run <span class="se">\</span>
--bind resources_folder:/opt/GREEN_VARAN/resources <span class="se">\</span>
GREEN-VARAN_green-varan_v1.sif <span class="se">\</span>
tool_name <span class="o">[</span>tool arguments<span class="o">]</span>
</pre></div>
</div>
<p><strong>NB.</strong> tool_name is one of GREEN-VARAN, SV_annotation, GREEN-DB_query.
The host resources_folder must contain the standard subfolders and files expected by GREEN-VARAN.</p>
</div>
<div class="section" id="bind-specific-folders-for-resources-or-data">
<h3>Bind specific folders for resources or data<a class="headerlink" href="#bind-specific-folders-for-resources-or-data" title="Permalink to this headline">¶</a></h3>
<p>If you have stored resources in other locations you have to bind them manually into the container and
then pass the mounted path to the tool with the corresponding argument (see below)
By default you are expected to read/write from the present working directory. This means that</p>
<ul class="simple">
<li><p>all input files, including eventual configuration file, must be present in the working directory</p></li>
<li><p>output files and eventual tmp folder are created in the present working directory</p></li>
</ul>
<p>Example if you have input/output/resources in other folders</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>singularity run <span class="se">\</span>
--bind resources_folder:/opt/GREEN_VARAN/resources <span class="se">\</span>
--bind input_folder:/input <span class="se">\</span>
--bind output_fodler:/output <span class="se">\</span>
--bind bed_files:/bed_files <span class="se">\</span>
GREEN-VARAN_green-varan_v1.sif <span class="se">\</span>
GREEN-VARAN -i /input/input.vcf <span class="se">\</span>
-o /output/output.vcf <span class="se">\</span>
--bed_dir /bed_files <span class="se">\</span>
<span class="o">[</span>tool arguments<span class="o">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="single-tools-usage">
<h2>Single tools usage<a class="headerlink" href="#single-tools-usage" title="Permalink to this headline">¶</a></h2>
<p>The GREEN-VARAN tool set includes 3 tools to annotate variants and interact with GREEN-DB.</p>
<ol class="arabic simple">
<li><dl class="simple">
<dt>GREEN_VARAN.py</dt><dd><p>Perform annotation on small variants VCF. Provides also abiliy to filter for genes of interest,
select variants on genes already affected by a coding variants and a prioritization function for
regulatory variants</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SV_annotation.py</dt><dd><p>Allows annotation of SV VCF based on overlap with known regions in external bed files.
Overlap threshold is configurable and the provided resources allow annotation of population AF
from gnomAD and 1000G, genes overlap and GREEN-DB</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>GREEN-DB_query.py</dt><dd><p>Assists in quering the GREEN-DB. Given a list of region IDs or a VCF annotated by GREEN-VARAN
the tool generates a set of tables containing detailed information on the regions of interest</p>
</dd>
</dl>
</li>
</ol>
<p>For detailed instruction on the single tools usage please refer to the corresponding page</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="GREEN-VARAN_usage.html">GREEN-VARAN tool usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="GREEN-VARAN_usage.html#basic-usage">Basic usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="GREEN-VARAN_usage.html#prioritization">Prioritization</a></li>
<li class="toctree-l2"><a class="reference internal" href="GREEN-VARAN_usage.html#gene-mode">Gene mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="GREEN-VARAN_usage.html#activate-additional-annotations">Activate additional annotations</a></li>
<li class="toctree-l2"><a class="reference internal" href="GREEN-VARAN_usage.html#fields-added-to-info">Fields added to INFO</a></li>
<li class="toctree-l2"><a class="reference internal" href="GREEN-VARAN_usage.html#arguments-list">Arguments list</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="SV_annotation_usage.html">SV_annotation tool usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="SV_annotation_usage.html#how-it-works">How it works</a></li>
<li class="toctree-l2"><a class="reference internal" href="SV_annotation_usage.html#the-configuration-file">The configuration file</a></li>
<li class="toctree-l2"><a class="reference internal" href="SV_annotation_usage.html#arguments-list">Arguments list</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="GREEN-DB_query_usage.html">GREEN-DB_query tool usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="GREEN-DB_query_usage.html#possible-inputs">Possible inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="GREEN-DB_query_usage.html#output-tables">Output tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="GREEN-DB_query_usage.html#arguments-list">Arguments list</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="GREEN-VARAN_usage.html" class="btn btn-neutral float-right" title="GREEN-VARAN tool usage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="GREEN_DB.html" class="btn btn-neutral float-left" title="The GREEN-DB" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Edoardo Giacopuzzi

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>